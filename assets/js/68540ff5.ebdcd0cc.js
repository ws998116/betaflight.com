"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4773],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=o.createContext({}),p=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=p(r),c=n,m=d["".concat(l,".").concat(c)]||d[c]||h[c]||a;return r?o.createElement(m,s(s({ref:t},u),{},{components:r})):o.createElement(m,s({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:n,s[1]=i;for(var p=2;p<a;p++)s[p]=r[p];return o.createElement.apply(null,s)}return o.createElement.apply(null,r)}c.displayName="MDXCreateElement"},52877:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var o=r(87462),n=(r(67294),r(3905));const a={},s=void 0,i={unversionedId:"boards/MOTOLAB",id:"boards/MOTOLAB",title:"MOTOLAB",description:"Description",source:"@site/docs/boards/MOTOLAB.md",sourceDirName:"boards",slug:"/boards/MOTOLAB",permalink:"/docs/boards/MOTOLAB",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"MNR-MAGDALENA",permalink:"/docs/boards/MNR-MAGDALENA"},next:{title:"MultiFlite PICO-B-FC",permalink:"/docs/boards/MULTIFLITEPICO"}},l={},p=[{value:"Description",id:"description",level:2},{value:"MCU, Sensors and Features",id:"mcu-sensors-and-features",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Features",id:"features",level:3},{value:"Manufacturers and Distributors",id:"manufacturers-and-distributors",level:2},{value:"Designers",id:"designers",level:2},{value:"Maintainers",id:"maintainers",level:2},{value:"Similar Targets",id:"similar-targets",level:2},{value:"Variants",id:"variants",level:2},{value:"FAQ &amp; Known Issues",id:"faq--known-issues",level:2},{value:"Servo_tilt with DSHOT on BF3.1:",id:"servo_tilt-with-dshot-on-bf31",level:3},{value:"Tri-copter with Dshot ESCs on BF3.1:",id:"tri-copter-with-dshot-escs-on-bf31",level:3},{value:"Hex-copter with Dshot ESCs on BF3.1:",id:"hex-copter-with-dshot-escs-on-bf31",level:3},{value:"Other Resources",id:"other-resources",level:2},{value:"Image",id:"image",level:2}],u={toc:p};function d(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"#MotoLab"),(0,n.kt)("h2",{id:"description"},"Description"),(0,n.kt)("p",null,"Four FCs that all use the same Target HEX"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"MotoF3 - Board shape designed for the ImpulseRC Warp Quads as part of the frame."),(0,n.kt)("li",{parentName:"ul"},"Tornado - Does not allow BLHeli Pass-through due to have 5V uni-directional drivers on the motor output pins.\nRequires a Pololu 5V regulator mounted on the board."),(0,n.kt)("li",{parentName:"ul"},"Cyclone - Like the Tornado but supports BLHeli pass-through and has the 5V regulator built onto the board."),(0,n.kt)("li",{parentName:"ul"},"Tempest (F3 version) - Has PDB built into the board as well as a 5V regulator to power accessories.")),(0,n.kt)("h2",{id:"mcu-sensors-and-features"},"MCU, Sensors and Features"),(0,n.kt)("h3",{id:"hardware"},"Hardware"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"MCU: STM32F3"),(0,n.kt)("li",{parentName:"ul"},"IMU: MPU6000, SPI (Cyclone, Tempest)\n: MPU6050, IIC (MotoF3, Tornado)"),(0,n.kt)("li",{parentName:"ul"},"IMU Interrupt:"),(0,n.kt)("li",{parentName:"ul"},"BARO: No"),(0,n.kt)("li",{parentName:"ul"},"VCP: Yes"),(0,n.kt)("li",{parentName:"ul"},"Hardware UARTS: 3"),(0,n.kt)("li",{parentName:"ul"},"OSD: No"),(0,n.kt)("li",{parentName:"ul"},"Blackbox: Serial"),(0,n.kt)("li",{parentName:"ul"},"PPM/UART Shared: UART2"),(0,n.kt)("li",{parentName:"ul"},"Battery Voltage Sensor: Yes"),(0,n.kt)("li",{parentName:"ul"},"Integrated Voltage Regulator: Yes (MotoF3, Cyclone, Tempest)\n: Pololu 5V (Tornado)"),(0,n.kt)("li",{parentName:"ul"},"Brushed Motor Mosfets: No"),(0,n.kt)("li",{parentName:"ul"},"Buttons: None. Solder BOOT pads")),(0,n.kt)("h3",{id:"features"},"Features"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"(add list of features)")),(0,n.kt)("h2",{id:"manufacturers-and-distributors"},"Manufacturers and Distributors"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"(add links to Manufacturers and Distributors)")),(0,n.kt)("h2",{id:"designers"},"Designers"),(0,n.kt)("h2",{id:"maintainers"},"Maintainers"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"(add your name here if you help test or contribute code for this board)")),(0,n.kt)("h2",{id:"similar-targets"},"Similar Targets"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"(add links board descriptions here that are similar in features or function, but have a separate target)")),(0,n.kt)("h2",{id:"variants"},"Variants"),(0,n.kt)("p",null,"Differences:"),(0,n.kt)("h2",{id:"faq--known-issues"},"FAQ & Known Issues"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The BF developers removed flash support from the MotoLab target in 3.1.x. The other MotoLab boards use the same target but don't have flash, so apparently they overlooked the MotoF3 and thought the flash code wasn't needed.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"To use DSHOT ESC protocol with \xdfF3.1 Motor1 needs to be re-mapped to the PPM pin.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Tornado has output driver chips so can not add a wire to the output pin header to use DSHOT.  So just wire Motor #1's ESC directly to the PPM pin and re-map.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The Cyclone and Tempest boards can have the PPM pin wired to the motor #1 output pin."))),(0,n.kt)("p",null,"See the ",(0,n.kt)("a",{parentName:"p",href:"DSHOT%20ESC%20Protocol"},"DSHOT & Betaflight")," page."),(0,n.kt)("p",null,"For Cyclone & Tempest -\nA wire can be soldered from the PPM pin to the motor 1 header pin or just connect ESC#1 directly to the PPM pin.\nNote: Adding this wire is not required if you connect signal wire from ESC #1 directly to the PPM pin.\nMove motor 1 from Output #1 header pin to the PPM input header pin."),(0,n.kt)("p",null," Follow above and to re-map output type in CLI:\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource ppm none  "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource motor 1 A07 "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"save  ")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Photo of wire added to a Cyclone.\n",(0,n.kt)("a",{parentName:"p",href:"https://www.rcgroups.com/forums/showpost.php?p=36589146&postcount=2787"},"https://www.rcgroups.com/forums/showpost.php?p=36589146&postcount=2787"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Photo and post on modifying the MotorF3 (Warp Quad) board to use Dshot. Note this is an alternet method that wires the PPM to Motor #7 output since the #7 output is very close to the PPM pin."))),(0,n.kt)("p",null,"The CLI re-mapping is:\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource motor 7 none "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource ppm none "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource motor 1 A07 "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"save "),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.rcgroups.com/forums/showthread.php?2537379-MotoLab-Board-Setup-and-Troubleshooting/page197#post37314713"},"https://www.rcgroups.com/forums/showthread.php?2537379-MotoLab-Board-Setup-and-Troubleshooting/page197#post37314713")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Report that with the Mod and remapping to run DSHOT there is a conflict with DMA for LEDs with Motor #4.\nCurrently LEDs need to be disabled to run DSHOT.\nctzsnooze reported a fix:\nThe solution, for versions of betaflight before 3.3, is to solder the ESC signal wire for motor 4 to the motor 5 pad, and in the CLI save:\n",(0,n.kt)("inlineCode",{parentName:"li"},"resource MOTOR 4 A01"),(0,n.kt)("inlineCode",{parentName:"li"},"resource MOTOR 5 NONE"))),(0,n.kt)("h3",{id:"servo_tilt-with-dshot-on-bf31"},"Servo_tilt with DSHOT on BF3.1:"),(0,n.kt)("p",null,"Do mod and setup for DSHOT as above.\nOutputs 7 & 8 on the Cyclone (Tornado & Tempest) have timers available for servos (Outputs 5 & 6 might also be available but not tested).\nIn CLI type:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"resource motor 7 none"),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource motor 8 none"),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource servo 1 A03"),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource servo 2 A08"),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"save")),(0,n.kt)("p",null,"Reconnect USB and reopen configurator.\nOn Config Tab Enable 'Servo_tilt' and click \"SAVE and REBOOT\".\nOn Servo Tab check CH1 (Roll) for Servo 0 (servo 0 here is Servo 1 in CLI) and check CH2 (Pitch) for Servo 1.\nClick Save. Outputs 7 & 8 should now be 1000 to 2000usec servo pulses. Use the Motors Tab to check or an O'scope on the output pins. Adjust the MIN & MAX to get the movement desired."),(0,n.kt)("h3",{id:"tri-copter-with-dshot-escs-on-bf31"},"Tri-copter with Dshot ESCs on BF3.1:"),(0,n.kt)("p",null,"Must add wire from PPM to output1 for Dshot.\nServo must be on output 5 or 6 (Timer restriction: see SERVO_TILT wiki page). Do NOT enable SERVO_TILT, selecting TRICOPTER directs Yaw stick to Servo 1.\nRe-map motor 5 to Servo 1 with the following CLI commands (servo on output 5):"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"resource MOTOR 5 none  "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"resource servo 1 A01  "),"\n",(0,n.kt)("inlineCode",{parentName:"p"},"save  ")),(0,n.kt)("h3",{id:"hex-copter-with-dshot-escs-on-bf31"},"Hex-copter with Dshot ESCs on BF3.1:"),(0,n.kt)("p",null,"This did not seem to work. No DSHOT output on motor 1 (No DMA assignment) and bad output on motor 6."),(0,n.kt)("h2",{id:"other-resources"},"Other Resources"),(0,n.kt)("p",null,"Setup Guides:"),(0,n.kt)("p",null,"Tornado and Cyclone\n",(0,n.kt)("a",{parentName:"p",href:"https://www.rcgroups.com/forums/showthread.php?t=2537379"},"https://www.rcgroups.com/forums/showthread.php?t=2537379")),(0,n.kt)("p",null,"Tempest\n",(0,n.kt)("a",{parentName:"p",href:"https://www.rcgroups.com/forums/showthread.php?t=2715556"},"https://www.rcgroups.com/forums/showthread.php?t=2715556")),(0,n.kt)("h2",{id:"image"},"Image"))}d.isMDXComponent=!0}}]);