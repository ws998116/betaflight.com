"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2290],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>h});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),u=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},p=function(t){var e=u(t.components);return n.createElement(s.Provider,{value:e},t.children)},c="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),c=u(a),d=r,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||l;return a?n.createElement(h,o(o({ref:e},p),{},{components:a})):n.createElement(h,o({ref:e},p))}));function h(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i[c]="string"==typeof t?t:r,o[1]=i;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},63149:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const l={},o="RunCam Device Protocol",i={unversionedId:"archive/RunCam-Device-Protocol",id:"archive/RunCam-Device-Protocol",title:"RunCam Device Protocol",description:"Description",source:"@site/docs/archive/RunCam-Device-Protocol.md",sourceDirName:"archive",slug:"/archive/RunCam-Device-Protocol",permalink:"/docs/archive/RunCam-Device-Protocol",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Running with reversed motors in betaflight (Spinning outwards at the front and back)",permalink:"/docs/archive/Reversed-motor-direction"},next:{title:"Runaway-Takeoff-Prevention",permalink:"/docs/archive/Runaway-Takeoff-Prevention"}},s={},u=[{value:"Description",id:"description",level:2},{value:"Currently supported features in betaflight",id:"currently-supported-features-in-betaflight",level:2},{value:"Protocol specification",id:"protocol-specification",level:2},{value:"Setup",id:"setup",level:2},{value:"Supported cameras/devices and functions",id:"supported-camerasdevices-and-functions",level:2},{value:"Analog/classic fpv cameras",id:"analogclassic-fpv-cameras",level:3},{value:"Supported Features",id:"supported-features",level:4},{value:"RunCam Split",id:"runcam-split",level:3},{value:"Supported Features:",id:"supported-features-1",level:4},{value:"OSD Menu Control",id:"osd-menu-control",level:5},{value:"Camera Button Simulation (Record/Photo/Wifi/Power Button)",id:"camera-button-simulation-recordphotowifipower-button",level:5},{value:"Preparation",id:"preparation",level:6},{value:"1.Connect the RunCam Split with the UART interface of the Flight Controller",id:"1connect-the-runcam-split-with-the-uart-interface-of-the-flight-controller",level:6},{value:"2.Make the Flight Controller recognize the Split",id:"2make-the-flight-controller-recognize-the-split",level:6},{value:"3.Instructions of the functions of the camera and assigning transmitter channels to them",id:"3instructions-of-the-functions-of-the-camera-and-assigning-transmitter-channels-to-them",level:6},{value:"4.Assign the channel to the switch of the controller",id:"4assign-the-channel-to-the-switch-of-the-controller",level:6},{value:"5.Test",id:"5test",level:6},{value:"Caddx Turtle v2",id:"caddx-turtle-v2",level:3},{value:"Supported Features:",id:"supported-features-2",level:4},{value:"OSD Menu Control",id:"osd-menu-control-1",level:5},{value:"Camera Button Simulation (Recording)",id:"camera-button-simulation-recording",level:5},{value:"Other supported devices",id:"other-supported-devices",level:2},{value:"RunCam Control Adapter (OSD Cable Simulation)",id:"runcam-control-adapter-osd-cable-simulation",level:3},{value:"Setup Guide",id:"setup-guide",level:4},{value:"List of confirmed compatible cameras",id:"list-of-confirmed-compatible-cameras",level:4}],p={toc:u};function c(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"runcam-device-protocol"},"RunCam Device Protocol"),(0,r.kt)("h2",{id:"description"},"Description"),(0,r.kt)("p",null,"RunCam Device Protocol is the serial communication protocol initially developed for the RunCam Split and analog cameras."),(0,r.kt)("p",null,"The protocol itself supports not only full camera osd menu navigation but also triggering recording on split style cameras as well as communicating the available sd-card space, syncing the current date, writing to the osd and turning the camera or wifi function (if available) on and off."),(0,r.kt)("p",null,"Not all features of the protocol are currently supported in betaflight but both betaflights support and the protocol itself are in continued development."),(0,r.kt)("p",null,"Lately similar to TBS Smartaudio and IRC Tramp other companies (for instance Caddx) started to adopt support for the protocol in their cameras."),(0,r.kt)("h2",{id:"currently-supported-features-in-betaflight"},"Currently supported features in betaflight"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Full camera OSD control"),(0,r.kt)("li",{parentName:"ul"},"Starting/Stopping recording on split style cameras"),(0,r.kt)("li",{parentName:"ul"},"Triggering photo snapshots on runcam split cameras"),(0,r.kt)("li",{parentName:"ul"},"Wifi and power toggling on runcam split cameras")),(0,r.kt)("h2",{id:"protocol-specification"},"Protocol specification"),(0,r.kt)("p",null,"The current protocol specification can be found here:"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://note.youdao.com/groupshare/?token=9AD3F89F0B92488E8241F58CAEDF7939&gid=29699666"},"!http://note.youdao.com/groupshare/?token=9AD3F89F0B92488E8241F58CAEDF7939&gid=29699666")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"setup"},"Setup"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"One free non-inverted UART on the FC is required (TX and RX)"),(0,r.kt)("li",{parentName:"ul"},"Select Runcam Device in the Ports Tab in Betaflight Configurator for the used UART."),(0,r.kt)("li",{parentName:"ul"},"Soft serial may work for some devices and some functions (Softserial has been reported to work with the Runcam Split 2/Mini at least for the record button function).")),(0,r.kt)("h2",{id:"supported-camerasdevices-and-functions"},"Supported cameras/devices and functions"),(0,r.kt)("h3",{id:"analogclassic-fpv-cameras"},"Analog/classic fpv cameras"),(0,r.kt)("p",null,"Any RunCam Camera that supports UART camera controls should work."),(0,r.kt)("p",null,"Micro Swift 3, Runcam Racer 2, etc."),(0,r.kt)("h4",{id:"supported-features"},"Supported Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"OSD Menu Control"),(0,r.kt)("li",{parentName:"ul"},"Shortcuts like scene switching")),(0,r.kt)("h3",{id:"runcam-split"},"RunCam Split"),(0,r.kt)("p",null,"RunCam Split cameras (1,2,mini and mini 2 etc.) also work however may require a firmware update. The first runcam split shipped with a different protocol - make sure to upgrade it either way as newer firmwares improved various things."),(0,r.kt)("h4",{id:"supported-features-1"},"Supported Features:"),(0,r.kt)("h5",{id:"osd-menu-control"},"OSD Menu Control"),(0,r.kt)("p",null,"Entering the osd menu to change settings should work with the same stick commands as ",(0,r.kt)("a",{parentName:"p",href:"FPV-Camera-Control-(Joystick-Emulation)"},"FPV Camera Control")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://betaflight.com/assets/img/camera-control-stick-commands.png",alt:"Camera Control Stick Commands"})),(0,r.kt)("h5",{id:"camera-button-simulation-recordphotowifipower-button"},"Camera Button Simulation (Record/Photo/Wifi/Power Button)"),(0,r.kt)("p",null,"Video demonstration: ",(0,r.kt)("a",{parentName:"p",href:"https://goo.gl/tm8CPS"},"https://goo.gl/tm8CPS")),(0,r.kt)("h6",{id:"preparation"},"Preparation"),(0,r.kt)("p",null,"Firmware: BetaFlight Firmware (\u22653.2.0)\nConfigurator software: Betaflight Configurator (\u22653.2.0)"),(0,r.kt)("p",null,"Any available UART interface on the BetaFlight"),(0,r.kt)("h6",{id:"1connect-the-runcam-split-with-the-uart-interface-of-the-flight-controller"},"1.Connect the RunCam Split with the UART interface of the Flight Controller"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s3-us-west-2.amazonaws.com/runcamfcfiles/split2_fc-01.jpg",alt:"split2_fc-01"})),(0,r.kt)("h6",{id:"2make-the-flight-controller-recognize-the-split"},"2.Make the Flight Controller recognize the Split"),(0,r.kt)("p",null,"For example, we connect the Split to the UART 3 interface on the BetaFlight: connect the flight controller to the computer, then open the Betaflight Configurator.\nIn the Peripherals column of the line UART3 (on the Ports tab), select RunCam Device and click Save And Reboot.\n",(0,r.kt)("img",{parentName:"p",src:"https://s3-us-west-2.amazonaws.com/runcamfcfiles/bf-ports-setup-for-rcsplit.png",alt:"bf-ports-setup-for-rcsplit"})),(0,r.kt)("h6",{id:"3instructions-of-the-functions-of-the-camera-and-assigning-transmitter-channels-to-them"},"3.Instructions of the functions of the camera and assigning transmitter channels to them"),(0,r.kt)("p",null,"In the Betaflight Configurator, navigate to the Modes tab. There are new CAMERA WI-FI, CAMERA POWER and CAMERA CHANGE modes."),(0,r.kt)("p",null,"CAMERA WI-FI: turn on/off the WIFI of the camera. When in the OSD of the camera, this is used to confirm your selection.\nCAMERA POWER: start/stop the video. When in the OSD of the camera, this is used to move to the next menu item.\nCAMERA CHANGE MODE: switch among the three modes, video, photo and OSD setting mode. When in the OSD of the camera, this will exit the menu.\nAssign any available channel to the function you need, for example:"),(0,r.kt)("p",null,"Assign the AUX1 to the CAMERA WI-FI, range 1900-2100\nAssign the AUX2 to the CAMERA POWER, range 1900-2100\nAssign the AUX3 to the CAMERA CHANGE MODE, range 1900-2100\n",(0,r.kt)("img",{parentName:"p",src:"https://s3-us-west-2.amazonaws.com/runcamfcfiles/bf-modes-setup-for-rcsplit.png",alt:"bf-modes-setup-for-rcsplit"})),(0,r.kt)("h6",{id:"4assign-the-channel-to-the-switch-of-the-controller"},"4.Assign the channel to the switch of the controller"),(0,r.kt)("p",null,"Please choose your Model on the controller, then access to the Mixer interface and assign the channel to the switch of the controller. Take opentx 2.2.0 for example, assign the channels CH5, CH6, and CH7 to SA, SB, SD respectively.\n",(0,r.kt)("img",{parentName:"p",src:"https://s3-us-west-2.amazonaws.com/runcamfcfiles/IMG_0371-1.jpg",alt:"IMG_0371-1"})),(0,r.kt)("h6",{id:"5test"},"5.Test"),(0,r.kt)("p",null,"Power the Flight Controller and the RunCam Split"),(0,r.kt)("p",null,"Set the SA to the bottom, the camera turns on/off the WIFI\nSet the SB to the bottom, the camera starts/stops the video\nSet the SD to the bottom, the camera switches among the three modes: video, photo and OSD setting mode"),(0,r.kt)("h3",{id:"caddx-turtle-v2"},"Caddx Turtle v2"),(0,r.kt)("p",null,"Caddx also implemented support for the RunCam Device protocol via their last firmware update.\nPlease note however that only the turtle v2 correctly supports UART controls as the v1 had some incompatible connections on the board despite having UART pads."),(0,r.kt)("p",null,"For the v1 you can still use ",(0,r.kt)("a",{parentName:"p",href:"FPV-Camera-Control-%28Joystick-Emulation%29/"},"FPV Camera Control")," to enter the OSD and control the camera via your transmitter."),(0,r.kt)("p",null,"Beware that OSD control is disabled during recording."),(0,r.kt)("p",null,"CADDX support: Turtle V2 can support RUNCAM protocol without flashing firmware."),(0,r.kt)("p",null,"Turtle V2 has two different versions of hardware. Flashing the firmware may cause the yellow screen to not work. If you need technical support, please go to CADDXFPV official Facebook"),(0,r.kt)("h4",{id:"supported-features-2"},"Supported Features:"),(0,r.kt)("h5",{id:"osd-menu-control-1"},"OSD Menu Control"),(0,r.kt)("p",null,"Entering the osd menu to change settings should work with the same stick commands as ",(0,r.kt)("a",{parentName:"p",href:"FPV-Camera-Control-(Joystick-Emulation)"},"FPV Camera Control")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://betaflight.com/assets/img/camera-control-stick-commands.png",alt:"Camera Control Stick Commands"})),(0,r.kt)("h5",{id:"camera-button-simulation-recording"},"Camera Button Simulation (Recording)"),(0,r.kt)("p",null,"Just as with the RunCam Split starting/stopping recording on a switch is supported. Follow the instructions outlined above to set it up."),(0,r.kt)("h2",{id:"other-supported-devices"},"Other supported devices"),(0,r.kt)("h3",{id:"runcam-control-adapter-osd-cable-simulation"},"RunCam Control Adapter (OSD Cable Simulation)"),(0,r.kt)("p",null,"The RunCam Control Adapter, which connects between the OSD pin and an UART on the FC, allows navigation of the OSD menu via the transmitter.\nUnlike the ",(0,r.kt)("a",{parentName:"p",href:"FPV-Camera-Control-(Joystick-Emulation)"},"FPV Camera Control")," however no additional resistors or capacitors are required."),(0,r.kt)("p",null,"Depending on the device some shortcut keys are also supported. For example keeping roll pressed to to the right will switch the currently selected scene when using a Micro Swift2."),(0,r.kt)("h4",{id:"setup-guide"},"Setup Guide"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s3-us-west-2.amazonaws.com/runcamfcfiles/RC-CA_viki-manual_v3.jpg",alt:"RC-CA_viki-manua"})),(0,r.kt)("h4",{id:"list-of-confirmed-compatible-cameras"},"List of confirmed compatible cameras"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Swift series"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Eagle series"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Sparrow series"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Owl series"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Swift 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Micro Eagle"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Sparrow"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Owl 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Micro Swift 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Eagle 2 Pro"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Micro Sparrow"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Owl"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Swift 2 Rotor Riot"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Night Eagle 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Micro Swift"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Eagle 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Swift Mini 2"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Eagle"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Swift Mini"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Sky series"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Nano"),(0,r.kt)("th",{parentName:"tr",align:null},"Compatible"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SKYPLUS"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Nano"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SKY"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))))}c.isMDXComponent=!0}}]);